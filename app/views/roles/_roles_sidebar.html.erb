<div class="list-group">
  <% @roles.each do |g| %>
    <div class="list-group-item <%= 'active' if @role && @role == g %>">
      <%= link_to g.name, g, class: 'list-link' %>
      <% if can?(:update, g) %>
        <div class="dropdown pull-right">
          <i class="fa fa-cog group-list-item dropdown-toggle" data-toggle="dropdown"></i>
          <ul class="dropdown-menu navbar-default" role="menu">
            <li>
              <%= link_to edit_role_path(g) do %>
                <i class="fa fa-pencil"></i>
                Edit
              <% end %>
            </li>
            <li>
              <%= link_to role_path(g), method: :delete, data: { confirm: 'Are you sure you want to delete this role?' } do %>
                <i class="fa fa-trash-o"></i>
                Delete
              <% end %>
            </li>
          </ul>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<%= link_to 'New Role', new_role_path, class: 'btn btn-primary' if can?(:create, Role) %>